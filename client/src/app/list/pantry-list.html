<form name="pantryList" id="pantryList">

	<section id="welcome">
		<h2 ng-if="!vm.selected.user">Welcome to Vectary pantry</h2>
		<h2 ng-if="vm.selected.user">Welcome to Vectary pantry, {{vm.selected.user.name}}!</h2>
		<h3>Choose your treat <span class="glyphicon glyphicon-heart-empty"></span></h3>
	</section>

	<section id="pantry-selection" class="row">
		<ul class="col-md-4 col-md-offset-4">
			<li ng-repeat="item in vm.items | orderBy: 'name'">
				<label class="cursor-pointer">
					<input
						type="radio"
						name="pantryItem"
						ng-model="vm.selected.item"
						ng-value="item"
					>
					{{item.name}}
				</label>
			</li>
		</ul>
	</section>
	<div
		id="btn-submit"
		uib-dropdown
		class="btn-group dropdown"
	>
		<button
			ng-click="vm.submit(vm.selected)"
			ng-disabled="!vm.selected.user || !vm.selected.item"
			ng-class="{'btn-success': vm.selected.user}"
			id="split-button"
			type="button"
			class="btn btn-user"
		>
			<span ng-if="!vm.selected.user">Chose your name to submit</span>
			<span ng-if="vm.selected.user">Submit as:
				<strong>{{vm.selected.user.name}}</strong></span>
		</button>

		<button
			uib-dropdown-toggle
			type="button"
			class="btn btn-primary dropdown-toggle"
			aria-haspopup="true" aria-expanded="false">
			<span class="caret"></span>
		</button>
		<ul
			uib-dropdown-menu
			class="dropdown-menu btn-user"
			role="menu"
		>
			<li role="menuitem">
				<a ng-repeat="user in vm.users" ng-click="vm.selected.user = user">{{user.name}}</a>
			</li>
		</ul>
	</div>
</form>
